package org.fl.opm.jdbc.spring;

import org.fl.opm.Page;
import org.fl.opm.PersistenceManager;
import org.fl.opm.spec.jdbc.SqlSpec;
import org.junit.BeforeClass;
import org.junit.Test;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import java.math.BigDecimal;
import java.util.Date;
import java.util.List;

import static org.hamcrest.CoreMatchers.is;
import static org.hamcrest.CoreMatchers.nullValue;
import static org.junit.Assert.assertThat;

/**
 * User: jiangyixin.stephen
 * Date: 13-5-6
 * Time: 下午1:14
 */
public class JdbcTemplateExecutorTest {
    private static ClassPathXmlApplicationContext ctx;

    @BeforeClass
    public static void initForAll() {
        ctx = new ClassPathXmlApplicationContext("classpath:app-context.xml");
    }

    @Test
    public void queryByIdTest() throws Exception {
        PersistenceManager pm = ctx.getBean("oraclePersistenceManager", PersistenceManager.class);
        MessageBase messageBase = pm.findById(MessageBase.class, Integer.valueOf(208249));
        assertThat(messageBase.getId(), is(208249));

        pm = ctx.getBean("oraclePersistenceManager", PersistenceManager.class);
        MessageContent messageContent = pm.findById(MessageContent.class, Integer.valueOf(208249));
        assertThat(messageContent.getId(), is(208249));

        pm = ctx.getBean("sqlServerPersistenceManager", PersistenceManager.class);
        PayMethod payMethod = pm.findById(PayMethod.class, "40");
        assertThat(payMethod.getBizCode(), is("40"));

        pm = ctx.getBean("sqlServerPersistenceManager", PersistenceManager.class);
        MerchantContractfee merchantContractfee = pm.findById(MerchantContractfee.class, 9056);
        assertThat(merchantContractfee.getRowid(), is(9056l));
    }

    @Test
    public void saveTest() throws Exception {
        PersistenceManager pm = ctx.getBean("oraclePersistenceManager", PersistenceManager.class);
        MessageContent messageContent = new MessageContent();
        messageContent.setId(-1);
        messageContent.setMsgContent("fastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjson");
        messageContent.setCntType(null);
        Object id = pm.save(messageContent);
        assertThat(pm.findById(MessageContent.class, -1).getMsgContent(), is(messageContent.getMsgContent()));
        assertThat(pm.findById(MessageContent.class, -1).getCntType(), is(messageContent.getCntType()));

        //messageContent.setId(id);
        messageContent.setCntType("fastjson");
        messageContent.setMsgContent("1fastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjsonfastjson");
        pm.save(messageContent);
        pm.deleteById(MessageContent.class, -1);

        pm = ctx.getBean("sqlServerPersistenceManager", PersistenceManager.class);
        PayMethod payMethod = new PayMethod();
        payMethod.setBizCode("at");
        payMethod.setBdesc("测试");
        payMethod.setInsertDate(new Date());
        payMethod.setShowIndex(null);
        id = pm.save(payMethod);
        assertThat(id, nullValue()); //不是自动生成的key
        payMethod.setBdesc("98测试");
        pm.save(payMethod);
        pm.deleteById(payMethod.getClass(), "at");

        pm = ctx.getBean("sqlServerPersistenceManager", PersistenceManager.class);
        MerchantContractfee merchantContractfee = pm.findById(MerchantContractfee.class, 31231);
        id = pm.save(merchantContractfee);
        assertThat(((Long) id).longValue() > 0, is(true));

        merchantContractfee.setRowid((Long) id);
        merchantContractfee.setCreatetime(new Date());
        merchantContractfee.setFeetype(4);
        merchantContractfee.setMaxvalue(new BigDecimal("99.20"));
        merchantContractfee.setMinvalue(new BigDecimal("1.20"));
        pm.save(merchantContractfee);
        pm.deleteById(merchantContractfee.getClass(), id);
    }

    @Test
    public void findBySpecTest() throws Exception {
        PersistenceManager pm = ctx.getBean("sqlServerPersistenceManager", PersistenceManager.class);
        Page page = new Page();
        page.setPage(2);
        page.setPageSize(40);
        List<Object> list = SqlSpec.from(MerchantContractfee.class).where().eq("maxvalue", new BigDecimal(10)).asc("createtime").limit(page).list(pm);
        assertThat(list.size() > 0, is(true));
        pm = ctx.getBean("oraclePersistenceManager", PersistenceManager.class);
        page.setPage(2);
        page.setPageSize(70);
        list = SqlSpec.from(MessageContent.class).where().gt("id", 213000).asc("id").limit(page).list(pm);
        assertThat(list.size() > 0, is(true));
    }
}
